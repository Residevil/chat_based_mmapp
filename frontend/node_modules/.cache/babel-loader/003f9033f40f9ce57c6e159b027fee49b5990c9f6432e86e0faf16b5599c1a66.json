{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexa\\\\chat_based_mmapp\\\\frontend\\\\src\\\\components\\\\MindMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\nimport ReactFlow, { Controls, Background, useNodesState, useEdgesState, addEdge } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { toPng } from 'html-to-image';\n\n// Custom node component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomNode = ({\n  data\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '10px',\n      border: '1px solid #ddd',\n      borderRadius: '5px',\n      background: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), data.note && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '10px',\n        color: '#888'\n      },\n      children: data.note\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n_c = CustomNode;\nconst nodeTypes = {\n  custom: CustomNode\n};\nfunction MindMap({\n  data,\n  onUpdate\n}) {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  // const [translate, setTranslate] = useState({ x: 300, y: 50 });\n  const [editingNode, setEditingNode] = useState(null);\n  const reactFlowWrapper = useRef(null);\n  const reactFlowInstance = useRef(null);\n\n  // Convert mind map data to React Flow format\n  React.useEffect(() => {\n    if (data) {\n      const {\n        nodes: newNodes,\n        edges: newEdges\n      } = convertToReactFlowFormat(data);\n      setNodes(newNodes);\n      setEdges(newEdges);\n    }\n  }, [data, setNodes, setEdges]);\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), [setEdges]);\n  const handleNodeClick = (event, node) => {\n    // Handle node click for editing\n    setEditingNode(node);\n  };\n  const handleEditSubmit = e => {\n    e.preventDefault();\n    const updatedNode = {\n      ...editingNode,\n      data: {\n        ...editingNode.data,\n        label: e.target.elements.nodeName.value,\n        note: e.target.elements.nodeNote.value\n      }\n    };\n    setNodes(nds => nds.map(node => node.id === updatedNode.id ? updatedNode : node));\n    onUpdate({\n      updatedNode\n    });\n    setEditingNode(null);\n  };\n  const handleAddChild = () => {\n    const newChildId = `${editingNode.id}-child-${Date.now()}`;\n    const newChild = {\n      id: newChildId,\n      type: 'custom',\n      position: {\n        x: editingNode.position.x + 200,\n        y: editingNode.position.y\n      },\n      data: {\n        label: 'New Child',\n        note: ''\n      }\n    };\n    const newEdge = {\n      id: `${editingNode.id}-${newChildId}`,\n      source: editingNode.id,\n      target: newChildId,\n      type: 'smoothstep'\n    };\n    setNodes(nds => [...nds, newChild]);\n    setEdges(eds => [...eds, newEdge]);\n    onUpdate({\n      updatedNode: newChild\n    });\n  };\n  const handleSave = useCallback(() => {\n    if (reactFlowInstance.current && reactFlowWrapper.current) {\n      const nodesBounds = reactFlowInstance.current.getNodes().reduce((bounds, node) => {\n        bounds.minX = Math.min(bounds.minX, node.position.x);\n        bounds.minY = Math.min(bounds.minY, node.position.y);\n        bounds.maxX = Math.max(bounds.maxX, node.position.x + node.width);\n        bounds.maxY = Math.max(bounds.maxY, node.position.y + node.height);\n        return bounds;\n      }, {\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n      });\n      const width = nodesBounds.maxX - nodesBounds.minX + 50;\n      const height = nodesBounds.maxY - nodesBounds.minY + 50;\n      const transformX = -nodesBounds.minX + 25;\n      const transformY = -nodesBounds.minY + 25;\n      reactFlowInstance.current.setViewport({\n        x: transformX,\n        y: transformY,\n        zoom: 1\n      });\n      toPng(reactFlowWrapper.current, {\n        cacheBust: true,\n        backgroundColor: '#ffffff',\n        width: width,\n        height: height,\n        style: {\n          width: `${width}px`,\n          height: `${height}px`\n        }\n      }).then(dataUrl => {\n        const link = document.createElement('a');\n        link.download = 'mind-map.png';\n        link.href = dataUrl;\n        link.click();\n      }).catch(error => {\n        console.error('Error saving mind map:', error);\n      });\n    }\n  }, []);\n  console.log('MindMap component received data:', data);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: reactFlowWrapper,\n    style: {\n      width: '100%',\n      height: '500px',\n      border: '1px solid black'\n    },\n    children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onConnect: onConnect,\n      onNodeClick: handleNodeClick,\n      nodeTypes: nodeTypes,\n      onInit: instance => reactFlowInstance.current = instance,\n      fitView: true,\n      children: [/*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Background, {\n        variant: \"dots\",\n        gap: 12,\n        size: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), editingNode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n        background: 'white',\n        padding: 10,\n        zIndex: 1000,\n        borderRadius: '5px',\n        boxShadow: '0 0 10px rgba(0,0,0,0.1)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleEditSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"nodeName\",\n            children: \"Node Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"nodeName\",\n            name: \"nodeName\",\n            defaultValue: editingNode.data.label,\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"nodeNote\",\n            children: \"Note:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"nodeNote\",\n            name: \"nodeNote\",\n            defaultValue: editingNode.data.note || '',\n            style: {\n              width: '100%',\n              height: '60px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleAddChild,\n            children: \"Add Child\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setEditingNode(null),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      style: {\n        position: 'absolute',\n        bottom: 10,\n        right: 10\n      },\n      children: \"Save as PNG\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper function to convert mind map data to React Flow format\n_s(MindMap, \"RX/R8gE+9EO9UzbuX50fSVgWjfY=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c2 = MindMap;\nfunction convertToReactFlowFormat(data, parentId = null, level = 0, index = 0) {\n  const nodes = [];\n  const edges = [];\n  const nodeWidth = 150;\n  const nodeHeight = 50;\n  const horizontalSpacing = 200;\n  const verticalSpacing = 100;\n  function processNode(node, parentId, level, index) {\n    var _node$attributes;\n    const id = `${level}-${index}-${node.name.replace(/\\s+/g, '-').toLowerCase()}`;\n    const x = level * horizontalSpacing;\n    const y = index * verticalSpacing;\n    nodes.push({\n      id,\n      type: 'custom',\n      position: {\n        x,\n        y\n      },\n      data: {\n        label: node.name,\n        note: (_node$attributes = node.attributes) === null || _node$attributes === void 0 ? void 0 : _node$attributes.note\n      },\n      style: {\n        width: nodeWidth,\n        height: nodeHeight\n      }\n    });\n    if (parentId) {\n      edges.push({\n        id: `${parentId}-${id}`,\n        source: parentId,\n        target: id,\n        type: 'smoothstep'\n      });\n    }\n    if (node.children) {\n      node.children.forEach((child, childIndex) => {\n        const {\n          childNodes,\n          childEdges\n        } = processNode(child, id, level + 1, childIndex);\n        nodes.push(...childNodes);\n        edges.push(...childEdges);\n      });\n    }\n    return {\n      childNodes: nodes,\n      childEdges: edges\n    };\n  }\n  const {\n    childNodes,\n    childEdges\n  } = processNode(data, parentId, level, index);\n  return {\n    nodes: childNodes,\n    edges: childEdges\n  };\n}\nexport default MindMap;\nvar _c, _c2;\n$RefreshReg$(_c, \"CustomNode\");\n$RefreshReg$(_c2, \"MindMap\");","map":{"version":3,"names":["React","useState","useCallback","useRef","ReactFlow","Controls","Background","useNodesState","useEdgesState","addEdge","toPng","jsxDEV","_jsxDEV","CustomNode","data","style","padding","border","borderRadius","background","children","label","fileName","_jsxFileName","lineNumber","columnNumber","note","fontSize","color","_c","nodeTypes","custom","MindMap","onUpdate","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","editingNode","setEditingNode","reactFlowWrapper","reactFlowInstance","useEffect","newNodes","newEdges","convertToReactFlowFormat","onConnect","params","eds","handleNodeClick","event","node","handleEditSubmit","e","preventDefault","updatedNode","target","elements","nodeName","value","nodeNote","nds","map","id","handleAddChild","newChildId","Date","now","newChild","type","position","x","y","newEdge","source","handleSave","current","nodesBounds","getNodes","reduce","bounds","minX","Math","min","minY","maxX","max","width","maxY","height","Infinity","transformX","transformY","setViewport","zoom","cacheBust","backgroundColor","then","dataUrl","link","document","createElement","download","href","click","catch","error","console","log","ref","onNodeClick","onInit","instance","fitView","variant","gap","size","top","right","zIndex","boxShadow","onSubmit","marginBottom","htmlFor","name","defaultValue","display","justifyContent","onClick","bottom","_c2","parentId","level","index","nodeWidth","nodeHeight","horizontalSpacing","verticalSpacing","processNode","_node$attributes","replace","toLowerCase","push","attributes","forEach","child","childIndex","childNodes","childEdges","$RefreshReg$"],"sources":["C:/Users/alexa/chat_based_mmapp/frontend/src/components/MindMap.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\r\nimport ReactFlow, {\r\n  Controls,\r\n  Background,\r\n  useNodesState,\r\n  useEdgesState,\r\n  addEdge,\r\n} from 'reactflow';\r\nimport 'reactflow/dist/style.css';\r\nimport { toPng } from 'html-to-image';\r\n\r\n// Custom node component\r\nconst CustomNode = ({ data }) => {\r\n  return (\r\n    <div style={{ padding: '10px', border: '1px solid #ddd', borderRadius: '5px', background: 'white' }}>\r\n      <div>{data.label}</div>\r\n      {data.note && <div style={{ fontSize: '10px', color: '#888' }}>{data.note}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst nodeTypes = {\r\n  custom: CustomNode,\r\n};\r\n\r\nfunction MindMap({ data, onUpdate }) {\r\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n  // const [translate, setTranslate] = useState({ x: 300, y: 50 });\r\n  const [editingNode, setEditingNode] = useState(null);\r\n  const reactFlowWrapper = useRef(null);\r\n  const reactFlowInstance = useRef(null);\r\n\r\n  // Convert mind map data to React Flow format\r\n  React.useEffect(() => {\r\n    if (data) {\r\n      const { nodes: newNodes, edges: newEdges } = convertToReactFlowFormat(data);\r\n      setNodes(newNodes);\r\n      setEdges(newEdges);\r\n    }\r\n  }, [data, setNodes, setEdges]);\r\n\r\n  const onConnect = useCallback((params) => setEdges((eds) => addEdge(params, eds)), [setEdges]);\r\n  \r\n  const handleNodeClick = (event, node) => {\r\n    // Handle node click for editing\r\n    setEditingNode(node);\r\n  };\r\n\r\n  const handleEditSubmit = (e) => {\r\n    e.preventDefault();\r\n    const updatedNode = {\r\n      ...editingNode,\r\n      data: {\r\n        ...editingNode.data,\r\n        label: e.target.elements.nodeName.value,\r\n        note: e.target.elements.nodeNote.value,\r\n      },\r\n    };\r\n    setNodes((nds) => nds.map((node) => (node.id === updatedNode.id ? updatedNode : node)));\r\n    onUpdate({ updatedNode });\r\n    setEditingNode(null);\r\n  };\r\n\r\n  const handleAddChild = () => {\r\n    const newChildId = `${editingNode.id}-child-${Date.now()}`;\r\n    const newChild = {\r\n      id: newChildId,\r\n      type: 'custom',\r\n      position: { x: editingNode.position.x + 200, y: editingNode.position.y },\r\n      data: { label: 'New Child', note: '' },\r\n    };\r\n    const newEdge = { id: `${editingNode.id}-${newChildId}`, source: editingNode.id, target: newChildId, type: 'smoothstep' };\r\n    \r\n    setNodes((nds) => [...nds, newChild]);\r\n    setEdges((eds) => [...eds, newEdge]);\r\n    onUpdate({ updatedNode: newChild });\r\n  };\r\n\r\n  const handleSave = useCallback(() => {\r\n    if (reactFlowInstance.current && reactFlowWrapper.current) {\r\n      const nodesBounds = reactFlowInstance.current.getNodes().reduce(\r\n        (bounds, node) => {\r\n          bounds.minX = Math.min(bounds.minX, node.position.x);\r\n          bounds.minY = Math.min(bounds.minY, node.position.y);\r\n          bounds.maxX = Math.max(bounds.maxX, node.position.x + node.width);\r\n          bounds.maxY = Math.max(bounds.maxY, node.position.y + node.height);\r\n          return bounds;\r\n        },\r\n        { minX: Infinity, minY: Infinity, maxX: -Infinity, maxY: -Infinity }\r\n      );\r\n\r\n      const width = nodesBounds.maxX - nodesBounds.minX + 50;\r\n      const height = nodesBounds.maxY - nodesBounds.minY + 50;\r\n      const transformX = -nodesBounds.minX + 25;\r\n      const transformY = -nodesBounds.minY + 25;\r\n\r\n      reactFlowInstance.current.setViewport({ x: transformX, y: transformY, zoom: 1 });\r\n\r\n    \r\n      toPng(reactFlowWrapper.current, { \r\n        cacheBust: true, \r\n        backgroundColor: '#ffffff',\r\n        width: width,\r\n        height: height,\r\n        style: {\r\n          width: `${width}px`,\r\n          height: `${height}px`,\r\n        },\r\n      })\r\n        .then((dataUrl) => {\r\n          const link = document.createElement('a');\r\n          link.download = 'mind-map.png';\r\n          link.href = dataUrl;\r\n          link.click();\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error saving mind map:', error);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  console.log('MindMap component received data:', data)\r\n  return (\r\n    <div ref={reactFlowWrapper} style={{ width: '100%', height: '500px', border: '1px solid black' }}>\r\n      <ReactFlow\r\n        nodes={nodes}\r\n        edges={edges}\r\n        onNodesChange={onNodesChange}\r\n        onEdgesChange={onEdgesChange}\r\n        onConnect={onConnect}\r\n        onNodeClick={handleNodeClick}\r\n        nodeTypes={nodeTypes}\r\n        onInit={(instance) => (reactFlowInstance.current = instance)}\r\n        fitView\r\n      >\r\n        <Controls />\r\n        <Background variant=\"dots\" gap={12} size={1} />\r\n      </ReactFlow>\r\n      {/* {editingNode && (\r\n        <div style={{ position: 'absolute', top:10, right:10, background: 'white', padding:10, zIndex: 1000}}>\r\n          <form onSubmit={handleEditSubmit}>\r\n            <input name=\"nodeName\" defaultValue={editingNode.data.label} />\r\n            <textarea name=\"nodeNote\" defaultValue={editingNode.data.note || ''} />\r\n            <button type=\"submit\">Update</button>\r\n          </form> \r\n        </div>\r\n      )} */}\r\n      {editingNode && (\r\n        <div style={{ position: 'absolute', top: 10, right: 10, background: 'white', padding: 10, zIndex: 1000, borderRadius: '5px', boxShadow: '0 0 10px rgba(0,0,0,0.1)' }}>\r\n          <form onSubmit={handleEditSubmit}>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label htmlFor=\"nodeName\">Node Name:</label>\r\n              <input id=\"nodeName\" name=\"nodeName\" defaultValue={editingNode.data.label} style={{ width: '100%' }} />\r\n            </div>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label htmlFor=\"nodeNote\">Note:</label>\r\n              <textarea id=\"nodeNote\" name=\"nodeNote\" defaultValue={editingNode.data.note || ''} style={{ width: '100%', height: '60px' }} />\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <button type=\"submit\">Update</button>\r\n              <button type=\"button\" onClick={handleAddChild}>Add Child</button>\r\n              <button type=\"button\" onClick={() => setEditingNode(null)}>Cancel</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      <button onClick={handleSave} style={{ position: 'absolute', bottom: 10, right: 10 }} >Save as PNG</button>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\n// Helper function to convert mind map data to React Flow format\r\nfunction convertToReactFlowFormat(data, parentId = null, level = 0, index = 0) {\r\n  const nodes = [];\r\n  const edges = [];\r\n\r\n  const nodeWidth = 150;\r\n  const nodeHeight = 50;\r\n  const horizontalSpacing = 200;\r\n  const verticalSpacing = 100;\r\n\r\n  function processNode(node, parentId, level , index) {\r\n    const id = `${level}-${index}-${node.name.replace(/\\s+/g, '-').toLowerCase()}`;\r\n    const x = level * horizontalSpacing;\r\n    const y = index * verticalSpacing;    \r\n    nodes.push({\r\n      id,\r\n      type: 'custom',\r\n      position: { x, y },\r\n      data: { label: node.name, note: node.attributes?.note },\r\n      style: { width: nodeWidth, height: nodeHeight },\r\n    });\r\n\r\n    if (parentId) {\r\n      edges.push({ id: `${parentId}-${id}`, source: parentId, target: id, type: 'smoothstep' });\r\n    }\r\n\r\n    if (node.children) {\r\n      node.children.forEach((child, childIndex) => {\r\n        const { childNodes, childEdges } = processNode(child, id, level+1, childIndex);\r\n        nodes.push(...childNodes);\r\n        edges.push(...childEdges);\r\n      });\r\n    }\r\n\r\n    return { childNodes: nodes, childEdges: edges };\r\n  }\r\n\r\n  const { childNodes, childEdges } = processNode(data, parentId, level, index);\r\n  return { nodes: childNodes, edges: childEdges };\r\n}\r\n\r\nexport default MindMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}