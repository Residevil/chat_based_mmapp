{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexa\\\\chat_based_mmapp\\\\frontend\\\\src\\\\components\\\\MindMap.js\";\nimport React, { useState } from 'react';\nimport { Tree } from 'react-d3-tree';\nimport { toPng } from 'html-to-image';\nfunction MindMap({\n  data,\n  onUpdate\n}) {\n  const [editingNode, setEditingNode] = useState(null);\n  const handleNodeClick = nodeData => {\n    // Handle node click for editing\n    setEditingNode(nodeData);\n  };\n  const handleEditSubmit = e => {\n    e.preventDefault();\n    const updatedData = {\n      id: editingNode.data.name,\n      name: e.target.elements.nodeText.value\n    };\n    // Update the node text in the data structure\n    // This is a simplified example and might need to be adjusted based on your data structure\n    onUpdate({\n      updatedData\n    });\n    setEditingNode(null);\n  };\n  const handleSave = () => {\n    const node = document.getElementById('mind-map-container');\n    toPng(node).then(dataUrl => {\n      const link = document.createElement('a');\n      link.download = 'mind-map.png';\n      link.href = dataUrl;\n      link.click();\n    }).catch(error => {\n      console.error('Error saving mind map:', error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mind-map-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tree, {\n    data: data,\n    orientation: \"vertical\",\n    onClick: handleNodeClick,\n    translate: {\n      x: 300,\n      y: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), editingNode && /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleEditSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"nodeText\",\n    defaultValue: editingNode.data.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Save as PNG\"));\n}\nexport default MindMap;","map":{"version":3,"names":["React","useState","Tree","toPng","MindMap","data","onUpdate","editingNode","setEditingNode","handleNodeClick","nodeData","handleEditSubmit","e","preventDefault","updatedData","id","name","target","elements","nodeText","value","handleSave","node","document","getElementById","then","dataUrl","link","createElement","download","href","click","catch","error","console","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","orientation","onClick","translate","x","y","onSubmit","defaultValue","type"],"sources":["C:/Users/alexa/chat_based_mmapp/frontend/src/components/MindMap.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { Tree } from 'react-d3-tree';\r\nimport { toPng } from 'html-to-image';\r\n\r\nfunction MindMap({ data, onUpdate }) {\r\n  const [editingNode, setEditingNode] = useState(null);\r\n\r\n  const handleNodeClick = (nodeData) => {\r\n    // Handle node click for editing\r\n    setEditingNode(nodeData);\r\n  };\r\n\r\n  const handleEditSubmit = (e) => {\r\n    e.preventDefault();\r\n    const updatedData = { \r\n      id: editingNode.data.name,\r\n      name: e.target.elements.nodeText.value\r\n     };\r\n    // Update the node text in the data structure\r\n    // This is a simplified example and might need to be adjusted based on your data structure\r\n    onUpdate({ updatedData });\r\n    setEditingNode(null);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const node = document.getElementById('mind-map-container');\r\n    toPng(node)\r\n      .then((dataUrl) => {\r\n        const link = document.createElement('a');\r\n        link.download = 'mind-map.png';\r\n        link.href = dataUrl;\r\n        link.click();\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error saving mind map:', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='mind-map-container'>\r\n        <Tree \r\n          data={data}\r\n          orientation=\"vertical\"\r\n          onClick={handleNodeClick}\r\n          translate={{ x: 300, y: 50 }}\r\n        />\r\n      </div>\r\n      {editingNode && (\r\n        <form onSubmit={handleEditSubmit}>\r\n          <input name=\"nodeText\" defaultValue={editingNode.data.name} />\r\n          <button type=\"submit\">Update</button>\r\n        </form>\r\n      )}\r\n      <button onClick={handleSave}>Save as PNG</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MindMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}